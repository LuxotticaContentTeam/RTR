(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

var _contents = _interopRequireDefault(require("./modules/contents"));
var _stateManager = _interopRequireDefault(require("./modules/stateManager"));
var _lazy = require("./modules/lazy");
var _data = require("./modules/data");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); } // import {ct_log, ct_get__device_type, eventCatcher} from './modules/utils';
var Core = /*#__PURE__*/function () {
  function Core() {
    _classCallCheck(this, Core);
    window.ct_SMV2 = this;
    this.StateManager = new _stateManager.default();
    this.init();
  }
  _createClass(Core, [{
    key: "init",
    value: function () {
      var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
        return _regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return (0, _data.checkStore)();
            case 2:
              _context.next = 4;
              return (0, _data.checkData)();
            case 4:
              this.rawJson = _context.sent;
              (0, _lazy.Lazy)();
              this.json = (0, _data.clearData)(this.rawJson);
              this.Contents = new _contents.default();
            case 8:
            case "end":
              return _context.stop();
          }
        }, _callee, this);
      }));
      function init() {
        return _init.apply(this, arguments);
      }
      return init;
    }()
  }]);
  return Core;
}();
new Core();

},{"./modules/contents":2,"./modules/data":3,"./modules/lazy":4,"./modules/stateManager":7}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _nav = _interopRequireDefault(require("./nav"));
var _products = require("./products");
var _text = require("./text");
var _video = require("./video");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var Contents = /*#__PURE__*/function () {
  function Contents(state) {
    _classCallCheck(this, Contents);
    this.container = document.querySelector('#ct_cm__smv2');
    this.videos = [];
    this.texts = [];
    this.prodLists = [];
    this.VideoControls = new _video.VideoControls();
    this.firstActive = true;
    this.videoLoaded = false;
    this.stateManger = ct_SMV2.StateManager;
    this.json = ct_SMV2.json;
    this.build();
    this.setActive();
    this.autoUpdate();
  }
  _createClass(Contents, [{
    key: "build",
    value: function build() {
      this.buildNav();
      this.buildVideos();
      this.buildTexts();
      this.buildProducts();
    }
  }, {
    key: "buildNav",
    value: function buildNav() {
      this.Nav = new _nav.default();
    }
  }, {
    key: "buildVideos",
    value: function buildVideos() {
      var _this = this;
      var currentVideo;
      this.json.forEach(function (story, i) {
        currentVideo = new _video.Video(story.video.d, story.video.dCover, story.video.m, story.video.mCover, i);
        _this.videos.push(currentVideo);
        _this.container.querySelector('#ct_cm__videos__container').appendChild(currentVideo.html());
      });
      this.container.appendChild(this.VideoControls.html());
      this.stateManger.videoActive = this.videos[0];
      this.stateManger.activeIndex = 0;
      this.eventsHandler();
    }
  }, {
    key: "buildTexts",
    value: function buildTexts() {
      var _this2 = this;
      var currentText;
      this.json.forEach(function (story, i) {
        currentText = new _text.Text(story.text.icon, story.text.title, story.text.subtitle, story.text.cta, i, story.variant);
        _this2.texts.push(currentText);
        _this2.container.querySelector('#ct_cm__texts__container').appendChild(currentText.html());
      });
    }
  }, {
    key: "buildProducts",
    value: function buildProducts() {
      var _this3 = this;
      var currentProdList;
      this.json.forEach(function (story, i) {
        currentProdList = new _products.ProductList(story.products, i, story.variant);
        _this3.prodLists.push(currentProdList);
        _this3.container.querySelector('#ct_cm__products__container').appendChild(currentProdList.html());
      });
      this.stateManger.prodListActive = this.prodLists[0];
      if (this.stateManger.device != 'desk') {
        this.prodOverlay = document.createElement('div');
        this.prodOverlay.id = 'ct_cm__prodOverlay';
        this.prodOverlay.onclick = function () {
          _this3.stateManger.prodListActive.toggleOpen();
        };
        this.container.appendChild(this.prodOverlay);
        this.buttonToggleOpen = document.createElement('button');
        this.buttonToggleOpen.id = "ct_cm__prodToggleOpen";
        this.buttonToggleOpen.innerHTML = "\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\" width=\"26\" height=\"26\">\n                    <use id=\"smv2_play_icon\" xlink:href=\"#smv2_arrow\"></use>\n                </svg>\n            ";
        this.buttonToggleOpen.onclick = function () {
          _this3.stateManger.prodListActive.toggleOpen();
        };
        this.container.querySelector('#ct_cm__products__container').appendChild(this.buttonToggleOpen);
      }
    }
  }, {
    key: "setActive",
    value: function setActive() {
      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
      var prevIndex = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
      var prev = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      //Anchor
      if (document.querySelector('#ct_cm__anchors .active')) {
        if (this.stateManger.device != 'desk' && !prev) document.querySelector('#ct_cm__anchors .active').classList.add('ct_cm__completed');
        document.querySelector('#ct_cm__anchors .active').classList.remove('active');
      }
      document.querySelector("#ct_cm__anchors li[data-anchor=\"".concat(index, "\"]")).classList.add('active');
      if (this.stateManger.device != 'desk') {
        if (index === 0) {
          document.querySelectorAll("#ct_cm__anchors li.ct_cm__completed").forEach(function (anchor) {
            return anchor.classList.remove('ct_cm__completed');
          });
        } else {
          document.querySelector("#ct_cm__anchors li[data-anchor=\"".concat(index, "\"]")).classList.remove('ct_cm__completed');
        }
      }

      //Videos
      if (document.querySelector('#ct_cm__videos__container .active')) document.querySelector('#ct_cm__videos__container .active').classList.remove('active');
      document.querySelector("#ct_cm__videos__container video[data-index=\"".concat(index, "\"]")).classList.add('active');
      if (!this.firstActive) {
        this.stateManger.videoActive.play();
        if (this.VideoControls.muted != this.stateManger.videoActive.muted) {
          if (this.VideoControls.muted) {
            this.stateManger.videoActive.mute();
          } else {
            this.stateManger.videoActive.unmute();
          }
        }
      } else {
        this.firstActive = false;
      }

      //Text
      if (this.texts[prevIndex]) {
        this.texts[prevIndex].setUnActive();
      }
      this.texts[index].setActive();
      if (document.querySelector('#ct_cm__texts__container .active')) document.querySelector('#ct_cm__texts__container .active').classList.remove('active');
      document.querySelector("#ct_cm__texts__container .ct_cm__text__container[data-index=\"".concat(index, "\"]")).classList.add('active');

      //Products
      if (this.prodLists[prevIndex]) {
        this.prodLists[prevIndex].setUnActive();
      }
      this.prodLists[index].setActive();
      if (this.stateManger.device != 'desk') {
        if (this.stateManger.prodListActive.prodCards.length === 0) {
          this.buttonToggleOpen.style.display = 'none';
        } else {
          this.buttonToggleOpen.style.display = 'block';
        }
      }
    }
  }, {
    key: "update",
    value: function update(index, prevIndex) {
      var prev = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      // console.log(`update to content ${index}`)
      var prevVideo = this.stateManger.videoActive;
      prevVideo.pause();
      this.stateManger.videoActive = this.videos[index];
      this.stateManger.activeIndex = index;
      this.stateManger.prodListActive = this.prodLists[index];
      this.setActive(index, prevIndex, prev);
      prevVideo.reset();
    }
  }, {
    key: "autoUpdate",
    value: function autoUpdate() {
      var _this4 = this;
      window.addEventListener('ct_cm__ended', function () {
        var newIndex = _this4.stateManger.activeIndex == _this4.videos.length - 1 ? 0 : _this4.stateManger.activeIndex + 1;
        _this4.checkAutoUpdate(newIndex, _this4.stateManger.activeIndex);
      });
    }
  }, {
    key: "eventsHandler",
    value: function eventsHandler() {
      var _this5 = this;
      window.addEventListener('ct_cm__load_poster', function () {
        _this5.videos.forEach(function (video) {
          return video.posterLoad();
        });
      }, {
        once: true
      });
      window.addEventListener('ct_cm__load_prod', /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
        return _regeneratorRuntime().wrap(function _callee$(_context) {
          while (1) switch (_context.prev = _context.next) {
            case 0:
              _context.next = 2;
              return (0, _products.getProdInfo)();
            case 2:
              _this5.prodLists.forEach(function (prodList) {
                return prodList.load();
              });
            case 3:
            case "end":
              return _context.stop();
          }
        }, _callee);
      })), {
        once: true
      });
      window.addEventListener('ct_cm__load_video', function () {
        _this5.videos[0].load();
      }, {
        once: true
      });
      window.addEventListener('ct_cm__canplaythrough', function (e) {
        if (e.detail == 0) {
          _this5.videos[0].play();
          if (!_this5.videoLoaded) {
            _this5.videoLoaded = true;
            _this5.videos.forEach(function (video) {
              return video.load();
            });
          }
        }
      });
      window.addEventListener('ct_cm__out_viewport', function () {
        _this5.stateManger.videoActive.pause();
      });
      window.addEventListener('ct_cm__in_viewport', function () {
        if (!_this5.VideoControls.manualPause) {
          _this5.stateManger.videoActive.play();
        }
      });
      window.addEventListener('ct_cm__next', function () {
        var newIndex = _this5.stateManger.activeIndex == _this5.videos.length - 1 ? 0 : _this5.stateManger.activeIndex + 1;
        _this5.update(newIndex, _this5.stateManger.activeIndex);
      });
      window.addEventListener('ct_cm__prev', function () {
        if (_this5.stateManger.activeIndex != 0) {
          var newIndex = _this5.stateManger.activeIndex - 1;
          _this5.update(newIndex, _this5.stateManger.activeIndex, true);
        }
      });
    }
  }, {
    key: "checkAutoUpdate",
    value: function checkAutoUpdate(newIndex, prevIndex) {
      var _this6 = this;
      //to fix
      if (!this.stateManger.prodListActive.hovered) {
        this.update(newIndex, prevIndex);
      } else {
        setTimeout(function () {
          _this6.checkAutoUpdate(newIndex, prevIndex);
        }, 2000);
      }
    }
  }]);
  return Contents;
}();
var _default = exports.default = Contents;

},{"./nav":5,"./products":6,"./text":8,"./video":10}],3:[function(require,module,exports){
"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.clearData = exports.checkStore = exports.checkData = void 0;
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
var checkStore = exports.checkStore = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
    return _regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          return _context.abrupt("return", new Promise(function (resolve, reject) {
            if (window.ct_SMV2_config.env === 'development') {
              window.ct_SMV2_config.store_info_local().then(resolve);
            } else {
              window.ct_SMV2_config.store_info().then(resolve);
            }
          }));
        case 1:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return function checkStore() {
    return _ref.apply(this, arguments);
  };
}();
var checkData = exports.checkData = function checkData() {
  return new Promise(function (resolve, reject) {
    if (window.ct_SMV2_json) {
      resolve(window.ct_SMV2_json);
    } else {
      setTimeout(function () {
        checkData().then(resolve).catch(reject);
      }, 300);
    }
  });
};
var clearData = exports.clearData = function clearData(rawJson) {
  var currentCountry = ct_SMV2_config.store.country;
  var finalJson = [];
  rawJson.forEach(function (story) {
    if (!story.countries && !story.exceptCountries) {
      finalJson.push(story);
    } else if ((!story.countries || story.countries === 'ALL') && (!story.exceptCountries || story.exceptCountries.length == 0 || !story.exceptCountries.includes(currentCountry))) {
      finalJson.push(story);
    } else if (!!story.countries && story.countries.includes(currentCountry)) {
      finalJson.push(story);
    }
  });
  return finalJson;
};

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Lazy = void 0;
var _utils = require("./utils");
var getIntersect = function getIntersect(entries) {
  entries.forEach(function (entry) {
    if (entry.isIntersecting) {
      // console.log(entry.intersectionRatio)
      if (entry.intersectionRatio < .6) {
        (0, _utils.eventDispatch)('ct_cm__load_poster');
        (0, _utils.eventDispatch)('ct_cm__out_viewport');
      } else {
        (0, _utils.eventDispatch)('ct_cm__load_video');
        (0, _utils.eventDispatch)('ct_cm__in_viewport');
        (0, _utils.eventDispatch)('ct_cm__load_prod');
      }
    }
  });
};
var Lazy = exports.Lazy = function Lazy() {
  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;
  var options = {
    rootMargin: "".concat(offset, "px"),
    threshold: [0, .6]
  };
  var observer = new IntersectionObserver(getIntersect, options);
  observer.observe(document.querySelector('#ct_cm__smv2'));
};

},{"./utils":9}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var Anchor = /*#__PURE__*/function () {
  function Anchor(label, index) {
    _classCallCheck(this, Anchor);
    this.label = label;
    this.index = index;
    this.stateManger = ct_SMV2.StateManager;
    this.anchorHtml = null;
  }
  _createClass(Anchor, [{
    key: "html",
    value: function html() {
      var _this = this;
      var anchor = document.createElement("li");
      anchor.dataset.anchor = this.index;
      var button = document.createElement("button");
      button.classList.add("ct_cm__anchor");
      button.ariaLabel = this.label;
      button.innerHTML = this.label;
      button.onclick = function () {
        _this.handleClick();
      };
      var progress_container = document.createElement("span");
      progress_container.classList = 'ct_cm__progress__container';
      var progress = document.createElement("span");
      progress.classList = 'ct_cm__progress';
      anchor.appendChild(button);
      progress_container.appendChild(progress);
      anchor.appendChild(progress_container);
      this.anchorHtml = anchor;
      return anchor;
    }
  }, {
    key: "handleClick",
    value: function handleClick() {
      if (!this.anchorHtml.classList.contains('active')) {
        window.ct_SMV2.Contents.update(this.index, this.stateManger.activeIndex);
      }
    }
  }]);
  return Anchor;
}();
var Nav = /*#__PURE__*/function () {
  function Nav() {
    _classCallCheck(this, Nav);
    this.container = document.querySelector('#ct_cm__anchors');
    this.event = "NavBuilt";
    this.json = ct_SMV2.json;
    this.build();
  }
  _createClass(Nav, [{
    key: "html",
    value: function html() {
      return document.createElement('ul');
    }
  }, {
    key: "build",
    value: function build() {
      var navHtml = this.html();
      this.json.forEach(function (story, i) {
        navHtml.appendChild(new Anchor(story.anchor, i).html());
      });
      this.anchors = navHtml;
      this.container.append(navHtml);
    }
  }]);
  return Nav;
}();
var _default = exports.default = Nav;

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getProdInfo = exports.ProductList = exports.Product = void 0;
var _utils = require("./utils");
function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }
function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }
function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(o); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }
function _iterableToArray(iter) { if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter); }
function _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }
function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw new Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator.return && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a '" + n + "' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, catch: function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var ProductList = exports.ProductList = /*#__PURE__*/function () {
  function ProductList(prodsUpc, index, variant) {
    _classCallCheck(this, ProductList);
    this.productsUpc = prodsUpc;
    this.variant = variant;
    this.prodCards = [];
    this.index = index;
    this.hovered = false;
    this.stateManger = ct_SMV2.StateManager;
  }
  _createClass(ProductList, [{
    key: "html",
    value: function html() {
      var _this = this;
      this.prodListHtml = document.createElement('div');
      this.prodListHtml.dataset.index = this.index;
      this.prodListHtml.classList.add('ct_cm__prods__container');
      this.variant === 'default_center' ? this.prodListHtml.classList.add('ct_cm__prods__center') : undefined;
      var currentProdCard;
      this.productsUpc.forEach(function (prodUpc) {
        currentProdCard = new Product(prodUpc);
        _this.prodCards.push(currentProdCard);
        _this.prodListHtml.appendChild(currentProdCard.html());
      });
      this.checkHover();
      if (this.stateManger.device != 'desk') this.toggleOpenHandler();
      return this.prodListHtml;
    }
  }, {
    key: "load",
    value: function load() {
      this.prodCards.forEach(function (prodCard) {
        if (Object.keys(window.ct_SMV2_config.products_data).includes(prodCard.info.upc)) {
          prodCard.udpateInfo(window.ct_SMV2_config.products_data[prodCard.info.upc]);
        } else {
          (0, _utils.customLog)("Prod ".concat(prodCard.info.upc, " not found"), '', 'err');
          prodCard.remove();
        }
      });
    }
  }, {
    key: "checkHover",
    value: function checkHover() {
      var _this2 = this;
      this.prodListHtml.addEventListener('mouseenter', function () {
        _this2.hovered = true;
        (0, _utils.eventDispatch)('ct_cm__prodHover', {
          hovered: true
        });
      });
      this.prodListHtml.addEventListener('mouseleave', function () {
        _this2.hovered = false;
        (0, _utils.eventDispatch)('ct_cm__prodHover', {
          hovered: false
        });
      });
    }
  }, {
    key: "toggleOpenHandler",
    value: function toggleOpenHandler() {
      var _this3 = this;
      this.prodListHtml.addEventListener('click', function (e) {
        _this3.open();
      });
    }
  }, {
    key: "toggleOpen",
    value: function toggleOpen() {
      if (!this.prodListHtml.classList.contains('ct_cm__open')) {
        this.open();
      } else {
        this.close();
      }
    }
  }, {
    key: "open",
    value: function open() {
      var _this4 = this;
      if (!this.prodListHtml.classList.contains('ct_cm__open')) {
        document.querySelector('#ct_cm__prodOverlay').classList.add('active');
        document.querySelector('#ct_cm__prodToggleOpen').classList.add('active');
        this.prodListHtml.classList.add('ct_cm__open');
        if (this.stateManger.device === 'mob') {
          document.querySelector('#ct_cm__prodToggleOpen').style.transform = "translate(-50%,-".concat((this.prodCards.length - 1) * (this.prodCards[0].prodCardHtml.clientHeight + 8), "px)");
        } else {
          document.querySelector('#ct_cm__prodToggleOpen').style.transform = "translate(-50%,-".concat((this.prodCards.length - 1) * (this.prodCards[0].prodCardHtml.clientHeight + 8) * 1.3, "px)");
        }
        this.prodCards.forEach(function (prodCard, i) {
          prodCard.prodCardHtml.style.transform = "translate(-50%, ".concat(-115 * (_this4.prodCards.length - 1 - i), "%)");
        });
        this.stateManger.videoActive.pause();
      }
    }
  }, {
    key: "close",
    value: function close() {
      this.prodListHtml.classList.remove('ct_cm__open');
      document.querySelector('#ct_cm__prodToggleOpen').classList.remove('active');
      document.querySelector('#ct_cm__prodOverlay').classList.remove('active');
      document.querySelector('#ct_cm__prodToggleOpen').style.transform = "translate(-50%,".concat(0, "px)");
      if (!this.stateManger.manualPause) {
        this.stateManger.videoActive.play();
      }
    }
  }, {
    key: "setActive",
    value: function setActive() {
      // if(document.querySelector('#ct_cm__products__container .active'))  document.querySelector('#ct_cm__products__container .active').classList.remove('active');
      this.prodListHtml.classList.add('active');
      this.prodCards.forEach(function (prod) {
        prod.setActive();
      });
    }
  }, {
    key: "setUnActive",
    value: function setUnActive() {
      this.prodListHtml.classList.remove('active');
      this.prodCards.forEach(function (prod) {
        prod.setUnActive();
      });
    }
  }]);
  return ProductList;
}();
/**
 * @param {string} listPrice - Current Price [Currency] [Value]
 * @param {string} offerPrice - Offer Price [Currency] [Value]
 * @param {string} modelname 
 * @param {string} upc - ProdUpc
 * @param {string} pdpURL - Link PDP
 * @param {string} productImage 
 * @param {string} alt - image alt [Prod UPC]
 */
var Product = exports.Product = /*#__PURE__*/function () {
  function Product(upc) {
    _classCallCheck(this, Product);
    this.loading = true;
    this.info = {
      listPrice: '',
      promotionalFlag: '',
      offerPrice: '',
      modelname: '',
      upc: upc,
      pdpURL: '',
      productImage: '',
      alt: upc
    };
  }
  _createClass(Product, [{
    key: "html",
    value: function html() {
      var _this$prodCardHtml$cl;
      this.prodCardHtml = document.createElement('a');
      this.prodCardHtml.href = 'javascript:void(0)';
      (_this$prodCardHtml$cl = this.prodCardHtml.classList).add.apply(_this$prodCardHtml$cl, ['ct_cm__prod__card', 'ct_cm__loading']);
      this.prodCardHtml.innerHTML = "\n            <div class=\"ct_cm__img__container\">\n                <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAA1JREFUGFdjOHPmzH8ACDADZKt3GNsAAAAASUVORK5CYII=\" alt=\"placeholder\"/>\n            </div>\n            <div class=\"ct_cm__info\">\n                <span class=\"ct_cm__name\"></span>\n                <span class=\"ct_cm__price ct_cm__pst\">\n                    <span class=\"ct_cm__offer\"></span>\n                    <span class=\"ct_cm__list\"></span>\n                </span>\n            </div>\n        ";
      this.prodCardHtml.tabIndex = -1;
      return this.prodCardHtml;
    }
  }, {
    key: "udpateInfo",
    value: function udpateInfo(info) {
      var _this5 = this;
      Object.keys(info).forEach(function (key) {
        _this5.info[key] = info[key];
      });
      this.prodCardHtml.href = this.info.pdpURL;
      this.prodCardHtml.ariaLabel = "shop ".concat(this.info.upc);
      this.prodCardHtml.dataset.elementId = 'X_SMV2_Card_Prod';
      this.prodCardHtml.dataset.description = this.info.upc;
      this.prodCardHtml.innerHTML = "\n            <div class=\"ct_cm__img__container\">\n                <img src=\"".concat(this.info.productImage, "\" alt=\"prod image ").concat(this.info.upc, "\"/>\n            </div>\n            <div class=\"ct_cm__info\">\n                <span class=\"ct_cm__name\">").concat(this.info.modelname, "</span>\n                <span class=\"ct_cm__price ").concat(this.info.promotionalFlag === '1' ? 'ct_cm__pst' : '', "\">\n                    <span class=\"ct_cm__offer\">").concat(this.info.offerPrice, "</span>\n                    <span class=\"ct_cm__list\">").concat(this.info.listPrice, "</span>\n                </span>\n            </div>\n        ");
      this.prodCardHtml.classList.remove('ct_cm__loading');
    }
  }, {
    key: "remove",
    value: function remove() {
      this.prodCardHtml.remove();
    }
  }, {
    key: "setActive",
    value: function setActive() {
      this.prodCardHtml.tabIndex = 0;
    }
  }, {
    key: "setUnActive",
    value: function setUnActive() {
      this.prodCardHtml.tabIndex = -1;
    }
  }]);
  return Product;
}();
var getProdInfo = exports.getProdInfo = /*#__PURE__*/function () {
  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
    var mocos;
    return _regeneratorRuntime().wrap(function _callee$(_context) {
      while (1) switch (_context.prev = _context.next) {
        case 0:
          mocos = getMocos(window.ct_SMV2.json);
          if (!(window.ct_SMV2_config.env === 'development')) {
            _context.next = 5;
            break;
          }
          return _context.abrupt("return", window.ct_SMV2_config.products_fn_local());
        case 5:
          return _context.abrupt("return", window.ct_SMV2_config.products_fn(mocos));
        case 6:
        case "end":
          return _context.stop();
      }
    }, _callee);
  }));
  return function getProdInfo() {
    return _ref.apply(this, arguments);
  };
}();
var getMocos = function getMocos(json) {
  var mocos = new Set();
  json.forEach(function (story) {
    story.products.forEach(function (prod) {
      mocos.add(prod);
    });
  });
  return _toConsumableArray(mocos);
};

},{"./utils":9}],7:[function(require,module,exports){
"use strict";

function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;
var _utils = require("./utils");
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
var StateManager = /*#__PURE__*/_createClass(function StateManager() {
  _classCallCheck(this, StateManager);
  this.videoActive = null;
  this.activeIndex = null;
  this.prodListActive = null;
  this.manualPause = false;
  this.device = (0, _utils.getDeviceType)();
});
var _default = exports.default = StateManager;

},{"./utils":9}],8:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.Text = void 0;
var _utils = require("./utils");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var Text = exports.Text = /*#__PURE__*/function () {
  function Text(icon, title, subtitle, cta, index) {
    var variant = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'default';
    _classCallCheck(this, Text);
    this.index = index;
    this.icon = icon;
    this.title = title;
    this.subtitle = subtitle;
    this.cta = cta;
    this.variant = variant;
  }
  _createClass(Text, [{
    key: "html",
    value: function html() {
      this.textHtml = document.createElement('div');
      this.textHtml.dataset.index = this.index;
      this.textHtml.classList.add('ct_cm__text__container');
      this.buildVariant();
      return this.textHtml;
    }
  }, {
    key: "buildVariant",
    value: function buildVariant() {
      if (this.variant === 'default') {
        this.textHtml.classList.add('ct_cm__text__default');
        this.textHtml.innerHTML = variants.default({
          icon: (0, _utils.getTrad)(this.icon),
          title: (0, _utils.getTrad)(this.title),
          subtitle: (0, _utils.getTrad)(this.subtitle),
          cta: {
            label: (0, _utils.getTrad)(this.cta.label),
            link: (0, _utils.getTrad)(this.cta.link)
          }
        });
      }
      if (this.variant === 'default_center') {
        var _this$textHtml$classL;
        (_this$textHtml$classL = this.textHtml.classList).add.apply(_this$textHtml$classL, ['ct_cm__text__default', 'ct_cm__text__center']);
        this.textHtml.innerHTML = variants.default({
          icon: (0, _utils.getTrad)(this.icon),
          title: (0, _utils.getTrad)(this.title),
          subtitle: (0, _utils.getTrad)(this.subtitle),
          cta: {
            label: (0, _utils.getTrad)(this.cta.label),
            link: (0, _utils.getTrad)(this.cta.link)
          }
        });
      }
    }
  }, {
    key: "setActive",
    value: function setActive() {
      this.textHtml.classList.add('active');
      if (this.textHtml.querySelector('a')) {
        this.textHtml.querySelector('a').tabIndex = 0;
      }
    }
  }, {
    key: "setUnActive",
    value: function setUnActive() {
      this.textHtml.classList.remove('active');
      if (this.textHtml.querySelector('a')) {
        this.textHtml.querySelector('a').tabIndex = -1;
      }
    }
  }]);
  return Text;
}();
var variants = {
  default: function _default(data) {
    return "\n                <div class=\"ct_cm__icon\">".concat(data.icon, "</div>\n                <h2 class=\"ct_cm__title\">").concat(data.title, "</h2>\n                <p class=\"ct_cm__subtitle\">").concat(data.subtitle, "</p>\n                <a tabindex=\"-1\" class=\"ct_cm__cta\" href=\"").concat(data.cta.link, "\">").concat(data.cta.label, "</a>\n            ");
  }
};

},{"./utils":9}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.ct_in_viewport = ct_in_viewport;
exports.ct_is__mobile = ct_is__mobile;
exports.ct_is__scrollable = ct_is__scrollable;
exports.ct_is_scrollbar_exp = ct_is_scrollbar_exp;
exports.ct_sm__checkCountryNameUrl = ct_sm__checkCountryNameUrl;
exports.eventDispatch = exports.eventCatcher = exports.customLog = void 0;
exports.getDeviceType = getDeviceType;
exports.getTrad = void 0;
// import { ct_sm__active_slide } from '../config_modules/slick_utils';

// check if mobile
function ct_is__mobile() {
  if (window.innerWidth > window.ct_SMV2_config.breakpoints.mob_max) {
    return false;
  } else {
    return true;
  }
}

// detect desk tab mob device dimensions
function getDeviceType() {
  if (window.innerWidth > window.ct_SMV2_config.breakpoints.tab_max) {
    return 'desk';
  }
  if (window.innerWidth > window.ct_SMV2_config.breakpoints.mob_max && window.innerWidth < window.ct_SMV2_config.breakpoints.desk_min) {
    return 'tab';
  }
  if (window.innerWidth < window.ct_SMV2_config.breakpoints.tab_min) {
    return 'mob';
  }
}

// check if element is scrollable
function ct_is__scrollable(elem) {
  return elem[0].scrollWidth > elem[0].clientWidth;
}

//check if element is in viewport
function ct_in_viewport(this_) {
  var elementTop = $(this_).offset().top;
  var elementBottom = elementTop + $(this_).outerHeight();
  var viewportTop = $(window).scrollTop();
  var viewportBottom = viewportTop + $(window).height();

  // return elementBottom > viewportTop && elementTop < viewportBottom;
  if (ct_is__mobile()) {
    return elementBottom > viewportTop && elementTop < viewportBottom && elementBottom - viewportTop > $(this_).outerHeight() * .5 && viewportBottom - elementTop > $(this_).outerHeight() * .2;
  } else {
    return elementBottom > viewportTop && elementTop < viewportBottom && elementBottom - viewportTop > $(this_).outerHeight() * .5 && viewportBottom - elementTop > $(this_).outerHeight() * .5;
  }
}
/**
 * Custom log
 * @param {String} log - Main message
 * @param {String} style - Add extra style
 * @param {String} type - "err" for error log, "wait" for wait log
*/
var customLog = exports.customLog = function customLog(log, style) {
  var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '';
  // if (window.ct_SUPERNOVA.env === 'development' || localStorage.getItem("dev") == "true"){
  if (type == "err") {
    console.log('%c ' + '[SMV2]  ' + log, "background: red;padding:2px 6px; border-radius:8px; color:#fff;font-family:sans-serif;font-size:14px; ".concat(style, ";"));
  }
  if (type == "wait") {
    console.log('%c ' + '[SMV2]  ' + log, "background: #ceb000;padding:2px 4px; border-radius:4px; color:#000;font-family:sans-serif;font-size:14px; ".concat(style, ";"));
  }
  if (type == '') {
    console.log('%c ' + '[SMV2]  ' + log, "background: #650601;padding:4px 8px; border-radius:6px; color:#fff;font-family:sans-serif;font-size:14px; ".concat(style, ";"));
  }
  // }
};
function ct_is_scrollbar_exp() {
  if (document.body.clientWidth < window.outerWidth) {
    return true;
  }
  return false;
}
function ct_sm__checkCountryNameUrl(url) {
  var normalizedUrl = '';
  if (!window.ct_SMV2_config.store.countryName || url.includes(window.ct_SMV2_config.store.countryName)) {
    if (url[0] === "/") {
      normalizedUrl = url;
    } else {
      normalizedUrl = "/".concat(url);
    }
    return normalizedUrl;
  }
  if (!url.includes(window.ct_SMV2_config.store.countryName)) {
    if (url[0] === "/") {
      normalizedUrl = "/".concat(window.ct_SMV2_config.store.countryName).concat(url);
    } else {
      normalizedUrl = "/".concat(window.ct_SMV2_config.store.countryName, "/").concat(url);
    }
  }
  return normalizedUrl;
}

/**
 * 
 * @param {String} name - Event Name
 * @param {Function} cb - CallBack
 * @returns Run Callback
 */
var eventCatcher = exports.eventCatcher = function eventCatcher(name, cb) {
  return [window.addEventListener(name, function (e) {
    cb(e.detail);
  })];
};
var eventDispatch = exports.eventDispatch = function eventDispatch(event) {
  var detail = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : undefined;
  var eventToDispatch = new CustomEvent(event, {
    detail: detail
  });
  window.dispatchEvent(eventToDispatch);
};
var getTrad = exports.getTrad = function getTrad(field) {
  var country = ct_SMV2_config.store.country;
  var lang = ct_SMV2_config.store.lang;
  if (typeof field === 'string') return field;
  var keys = Object.keys(field);
  if (keys.includes(country)) return field[country];
  if (keys.includes(lang)) return field[lang];
  if (keys.includes('en-us')) return field['en-us'];
  if (keys.includes('en')) return field['en'];
  return field[0];
};

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.VideoControls = exports.Video = void 0;
var _utils = require("./utils");
function _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }
function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }
function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, "prototype", { writable: false }); return Constructor; }
function _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : String(i); }
function _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }
var Video = exports.Video = /*#__PURE__*/function () {
  function Video(srcDesk, posterDesk, srcMob, posterMob, index) {
    _classCallCheck(this, Video);
    this.srcDesk = srcDesk;
    this.srcMob = srcMob ? srcMob : srcDesk;
    this.posterDesk = posterDesk;
    this.posterMob = posterMob ? posterMob : posterDesk;
    this.index = index;
    this.event = "videoBuilt";
    this.canplay = false;
    this.muted = true;
    this.stalled = false;
    this.error = false;
  }
  _createClass(Video, [{
    key: "html",
    value: function html() {
      this.videoHtml = document.createElement('video');
      this.videoHtml.preload = 'metadata';
      this.videoHtml.dataset.index = this.index;
      this.videoHtml.dataset.src = (0, _utils.getDeviceType)() === 'desk' ? this.srcDesk : this.srcMob;
      this.videoHtml.dataset.poster = (0, _utils.getDeviceType)() === 'desk' ? this.posterDesk : this.posterMob;
      this.videoHtml.muted = true;
      this.videoHtml.autoplay = true;
      this.videoHtml.playsInline = true;

      // eventDispatch();
      return this.videoHtml;
    }
  }, {
    key: "posterLoad",
    value: function posterLoad() {
      if (this.videoHtml.poster === '') {
        this.videoHtml.poster = this.videoHtml.dataset.poster;
      }
    }
  }, {
    key: "load",
    value: function load() {
      var _this = this;
      if (this.videoHtml.src === '') {
        this.videoHtml.src = this.videoHtml.dataset.src;
        this.videoHtml.oncanplay = function () {
          if (!_this.canplay) {
            _this.pause();
            _this.canplay = true;
            _this.timeProgress();
            _this.reset();
          }

          //     this.reset();
        };
        this.videoHtml.addEventListener('canplaythrough', function () {
          (0, _utils.eventDispatch)('ct_cm__canplaythrough', _this.index);
        }, {
          once: true
        });
        this.videoHtml.onended = function () {
          _this.pause();
          (0, _utils.eventDispatch)('ct_cm__ended');
          //     this.reset();
        };
        this.videoHtml.onplaying = function () {
          (0, _utils.eventDispatch)('ct_cm__play', _this.index);
        };
        this.videoHtml.onstalled = function () {
          (0, _utils.eventDispatch)('ct_cm__pause', _this.index);
          _this.stalled = true;
        };
        this.videoHtml.addEventListener('error', function () {
          console.log('video error detected');
          _this.error = true;
          (0, _utils.eventDispatch)('ct_cm__pause', _this.index);
        });
      }
    }
  }, {
    key: "play",
    value: function play() {
      if (this.videoHtml.paused) {
        try {
          this.videoHtml.play();
          (0, _utils.eventDispatch)('ct_cm__play', this.index);
        } catch (error) {
          console.log('PLAY FAILED');
        }
      }
    }
  }, {
    key: "pause",
    value: function pause() {
      this.videoHtml.pause();
      (0, _utils.eventDispatch)('ct_cm__pause', this.index);
    }
  }, {
    key: "reset",
    value: function reset() {
      // console.log('reset')
      if (this.videoHtml.currentTime > 0) {
        this.videoHtml.currentTime = 0;
        this.anchorProgress.style.transform = "scaleX(0)";
      }
    }
  }, {
    key: "mute",
    value: function mute() {
      // console.log(this.videoHtml.muted)
      if (!this.videoHtml.muted) {
        this.videoHtml.muted = true;
        this.muted = true;
        (0, _utils.eventDispatch)('ct_cm__mute');
      }
    }
  }, {
    key: "unmute",
    value: function unmute() {
      if (this.videoHtml.muted) {
        this.videoHtml.muted = false;
        this.muted = false;
        (0, _utils.eventDispatch)('ct_cm__unmute');
      }
    }
  }, {
    key: "timeProgress",
    value: function timeProgress() {
      var _this2 = this;
      this.anchorProgress = document.querySelector("[data-anchor=\"".concat(this.index, "\"] .ct_cm__progress__container > .ct_cm__progress"));
      this.videoHtml.ontimeupdate = function () {
        _this2.anchorProgress.style.transform = "scaleX(".concat(Math.min(_this2.videoHtml.currentTime / _this2.videoHtml.duration, 1), ")");
      };
    }
  }]);
  return Video;
}();
var VideoControls = exports.VideoControls = /*#__PURE__*/function () {
  function VideoControls() {
    _classCallCheck(this, VideoControls);
    this.currentVideo = null;
    this.events = this.eventListener();
    this.muted = true;
    this.mobControls = (0, _utils.getDeviceType)() != 'desk' ? this.buildMobControls() : null;
    this.stateManger = ct_SMV2.StateManager;
  }
  _createClass(VideoControls, [{
    key: "html",
    value: function html() {
      var _this3 = this;
      this.container = document.createElement('div');
      this.container.id = "ct_cm__videos__controls";
      this.playPauseBtnHtml = document.createElement('button');
      this.playPauseBtnHtml.id = "ct_cm__togglePlay";
      this.playPauseBtnHtml.onclick = function () {
        _this3.togglePlay();
      };
      this.playPauseBtnHtml.innerHTML = "\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\" width=\"26\" height=\"26\" fill=\"none\">\n                <use id=\"smv2_play_icon\" xlink:href=\"#smv2_play\"></use>\n                <use id=\"smv2_pause_icon\" xlink:href=\"#smv2_pause\"></use>\n            </svg>\n        ";
      this.volumeBtnHtml = document.createElement('button');
      this.volumeBtnHtml.id = "ct_cm__toggleVolume";
      this.volumeBtnHtml.onclick = function () {
        _this3.toggleVolume();
      };
      this.volumeBtnHtml.classList = "ct_cm__muted";
      this.volumeBtnHtml.innerHTML = "\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 26 26\" width=\"26\" height=\"26\" fill=\"none\">\n                <use id=\"smv2_volume_on_icon\" xlink:href=\"#smv2_volume_on\"></use>\n                <use id=\"smv2_volume_off_icon\" xlink:href=\"#smv2_volume_off\"></use>\n            </svg>\n        ";
      this.container.appendChild(this.playPauseBtnHtml);
      this.container.appendChild(this.volumeBtnHtml);
      return this.container;
      // eventDispatch();
    }
  }, {
    key: "togglePlay",
    value: function togglePlay() {
      if (this.playPauseBtnHtml.classList.contains('ct_cm__playing')) {
        this.pause();
      } else {
        this.play();
      }
    }
  }, {
    key: "toggleVolume",
    value: function toggleVolume() {
      if (this.volumeBtnHtml.classList.contains('ct_cm__muted')) {
        this.unmute();
      } else {
        this.mute();
      }
    }
  }, {
    key: "play",
    value: function play() {
      this.stateManger.manualPause = false;
      if (this.stateManger.videoActive.stalled || this.stateManger.videoActive.error) {
        this.stateManger.videoActive.videoHtml.load();
      } else {
        this.stateManger.videoActive.play();
      }
    }
  }, {
    key: "pause",
    value: function pause() {
      this.stateManger.manualPause = true;
      this.stateManger.videoActive.pause();
    }
  }, {
    key: "mute",
    value: function mute() {
      this.stateManger.videoActive.mute();
    }
  }, {
    key: "unmute",
    value: function unmute() {
      this.stateManger.videoActive.unmute();
    }
  }, {
    key: "onPaused",
    value: function onPaused() {
      var _this4 = this;
      window.addEventListener('ct_cm__pause', function (e) {
        // console.log('onPaused')
        if (e.detail === _this4.stateManger.activeIndex) {
          // console.log('onPaused')
          _this4.playPauseBtnHtml.classList.remove('ct_cm__playing');
        }
      });
    }
  }, {
    key: "onPlayed",
    value: function onPlayed() {
      var _this5 = this;
      window.addEventListener('ct_cm__play', function (e) {
        if (e.detail === _this5.stateManger.activeIndex) {
          // console.log('onPLay')
          _this5.playPauseBtnHtml.classList.add('ct_cm__playing');
        }
      });
    }
  }, {
    key: "onMute",
    value: function onMute() {
      var _this6 = this;
      window.addEventListener('ct_cm__mute', function () {
        // console.log('onMuted')
        _this6.muted = true;
        _this6.volumeBtnHtml.classList.add('ct_cm__muted');
      });
    }
  }, {
    key: "onUnmute",
    value: function onUnmute() {
      var _this7 = this;
      window.addEventListener('ct_cm__unmute', function () {
        // console.log('onunMuted')
        _this7.muted = false;
        _this7.volumeBtnHtml.classList.remove('ct_cm__muted');
      });
    }
  }, {
    key: "eventListener",
    value: function eventListener() {
      this.onPlayed();
      this.onPaused();
      this.onUnmute();
      this.onMute();
    }
  }, {
    key: "buildMobControls",
    value: function buildMobControls() {
      this.nextBtn = document.createElement('button');
      this.nextBtn.id = 'ct_cm__next';
      this.nextBtn.onclick = function () {
        (0, _utils.eventDispatch)('ct_cm__next');
      };
      this.prevBtn = document.createElement('button');
      this.prevBtn.id = 'ct_cm__prev';
      this.prevBtn.onclick = function () {
        (0, _utils.eventDispatch)('ct_cm__prev');
      };
      document.querySelector('#ct_cm__smv2').appendChild(this.nextBtn);
      document.querySelector('#ct_cm__smv2').appendChild(this.prevBtn);
    }
  }]);
  return VideoControls;
}();

},{"./utils":9}]},{},[1]);
